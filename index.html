<html>
<head>
	<script src="VersionManager.js" type="text/javascript"></script>
</head>
<body>


<!-- <script src="prototype-1.5.1.2-transformed.js"></script> -->
<script src="test/prototype-1.6.1-transformed.js"></script>


<script>
	with (VersionManager.version("1.6.1")) {
		console.log("abcdaba".gsub("a","42"));// console.logs '42bcd42b42'
		console.log(typeof Object.extend);// console.logs 'function'
		$A([1,2,3])._each(function(x){
			console.log(x);
		});// console.logs '1','2','3'
	}
	VersionManager.clear();//otherwise previous version is lingering...
	try {
		console.log(typeof "".gsub);//console.logs 'function' <= this is generic delegating proxy function
		console.log("abcdaba".gsub("a","42"));//throws error
	} catch (e) {
		console.log(e);//TypeError: "attempt call to delegate with no version defined (see documentation)" 
	}
	console.log(typeof Object.extend);// console.logs 'undefined'
	console.log(typeof $A);// console.logs 'undefined'
	
</script>
</body>
</html>

